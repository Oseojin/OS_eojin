# 02. BIOS 인터럽트와 화면 출력 (BIOS Interrupts)

이 문서는 리얼 모드에서 화면에 텍스트를 출력하기 위해 사용하는 **BIOS 인터럽트(Interrupt)**의 개념과 사용법을 설명합니다.

## 1. 인터럽트 (Interrupt)란?

인터럽트는 CPU의 정상적인 실행 흐름을 중단하고, 특정 이벤트(예: 키보드 입력, 에러, 시스템 호출)를 처리하기 위해 정해진 코드(핸들러)로 점프하는 메커니즘입니다.

리얼 모드에서는 BIOS가 미리 만들어둔 유용한 함수들을 **소프트웨어 인터럽트(`INT`)** 명령어로 호출하여 사용할 수 있습니다. 마치 C언어의 라이브러리 함수를 사용하는 것과 유사합니다.

## 2. INT 0x10 - 비디오 서비스 (Video Services)

BIOS 인터럽트 `0x10`은 화면 입출력과 관련된 다양한 기능을 제공합니다. 어떤 기능을 수행할지는 **`AH` 레지스터**의 값으로 결정합니다.

### 텔레타입 출력 (Teletype Output)
우리가 사용할 기능은 "한 글자 출력하고 커서를 다음 칸으로 이동"시키는 텔레타입 모드입니다.

-   **인터럽트 번호**: `0x10`
-   **기능 번호 (AH)**: `0x0E`

### 레지스터 설정
명령을 실행(`INT 0x10`)하기 전에 레지스터에 다음과 같이 인자를 설정해야 합니다.

| 레지스터 | 값 | 설명 |
| :--- | :--- | :--- |
| **AH** | `0x0E` | 텔레타입 출력 모드 지정 |
| **AL** | `Character` | 출력할 ASCII 문자 값 (예: 'A', 0x41) |
| **BH** | `Page` | 페이지 번호 (일반적으로 0 사용) |
| **BL** | `Color` | 전경색 (그래픽 모드에서만 유효, 텍스트 모드에서는 무시됨) |

### 예시 코드 (Assembly)
```nasm
mov ah, 0x0e    ; 텔레타입 모드
mov al, 'H'     ; 출력할 문자
int 0x10        ; BIOS 비디오 서비스 호출 (화면에 'H' 출력)
```

## 3. 문자열 출력 원리

문자열은 연속된 문자의 배열입니다. 따라서 문자열을 출력하려면 반복문(Loop)이 필요합니다.

1.  문자열의 시작 주소를 레지스터(주로 `SI` - Source Index)에 저장합니다.
2.  메모리에서 한 바이트를 읽어 `AL` 레지스터로 가져옵니다 (`LODSB` 명령어 활용).
3.  가져온 값이 0(문자열의 끝, Null Terminator)이면 반복을 종료합니다.
4.  0이 아니면 `INT 0x10`을 호출하여 출력합니다.
5.  다음 문자로 이동하여 2번 과정을 반복합니다.
